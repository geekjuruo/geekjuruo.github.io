---
layout:     post                    # 使用的布局（不需要改）
title:      Node.js学习笔记	           	# 标题 
subtitle:   未完待续						# 副标题
date:       2018-09-29              # 时间
author:     LYH                      # 作者
header-img: img/post-bg-js-version.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 学习
    - Node.js
---

## Node.js 回调函数
> Node.js 异步编程的直接体现就是回调。  

1. 回调函数在完成任务后就会被调用，Node 使用了大量的回调函数，Node 所有 API 都支持回调函数。  
2. 回调函数一般作为函数的最后一个参数出现

## Node.js 事件循环
> Node.js使用事件驱动模型，当web server接收到请求，就把它关闭然后进行处理，然后去服务下一个web请求。当这个请求完成，它被放回处理队列，当到达队列开头，这个结果被返回给用户。  

**在事件驱动模型中，会生成一个主循环来监听事件，当检测到事件时触发回调函数。**  


## Node.js EventEmitter
1. Node.js所有的异步I/O操作在完成时都会发送一个事件到事件队列
2. Node.js里面的许多对象都会分发事件，所有产生事件的对象都是events.EventEmitter的实例
3. events模块只提供了一个对象：events.EventEmitter，其核心就是事件触发与事件监听器功能的封装。
4. EventEmitter的每个事件由一个事件名和若干个参数组成。对于每个事件，EventEmitter支持若干个事件监听器，事件触发时，这些监听器被依次调用。  

### 继承EventEmitter  
大多数时候我们不会直接使用 EventEmitter，而是在对象中继承它。包括 fs、net、 http 在内的，只要是支持事件响应的核心模块都是 EventEmitter 的子类。

## Node.js Buffer
> JS语言自身只有字符串数据类型，没有二进制数据类型。因此定义一个Buffer类用来创建一个专门存放二进制数据的缓存区。一个Buffer类类似于一个整数数组。

创建Buffer类：alloc，from。  
写入缓冲区：write。  
从缓冲区读取数据：toString。  
将Buffer转换为JSON对象：toJSON。  
缓冲区合并：concat。  
缓冲区比较：compare。  
拷贝缓冲区：copy。  
缓冲区裁剪：slice。  
**详细Buffer类的API可在使用时自行查看**  

## Node.js Stream
> Stream是一个抽象接口，有四种流类型：可读操作，可写操作，可读可写操作，操作被写入数据，然后读出结果。所有的Stream对象都是EventEmitter的实例。

1. 从流中读取数据
2. 写入流
3. 管道流

> 管道提供了一个输出流到输入流的机制。通常我们用于从一个流中获取数据并将数据传递到另外一个流中。

4. 链式流

> 链式是通过连接输出流到另外一个流并创建多个流操作链的机制。链式流一般用于管道操作。

## Node.js 模块系统

**为了让Node.js 的文件能够相互调用，Node.js提供了一个简单的模块系统**

> 模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。换言之，一个 Node.js 文件就是一个模块，这个文件可能是JavaScript 代码、JSON 或者编译过的C/C++ 扩展。

Node.js中存在4种模块，各自优先级不同。（下按优先级排列）  

* 从文件模块缓存中加载
* 从原生模块加载
* 从文件加载（相对路径的文件模块，绝对路径的文件模块，非原生模块的文件模块）

## Node.js 函数

JS中，一个函数可以作为另一个函数的参数。也可以在传递参数的地方直接定义函数（匿名函数）。

## Node.js 路由




