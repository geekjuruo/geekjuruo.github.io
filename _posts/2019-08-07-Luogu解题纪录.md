---
layout:     post                    # 使用的布局（不需要改）
title:      Luogu洛谷解题纪录	           	# 标题 
subtitle:   OJ日记					# 副标题
date:       2019-08-07              # 时间
author:     LYH                      # 作者
header-img: img/post-bg-map.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 学习
    - 编程
    - 算法

---

## P1017 进制转换

题目描述：

我们可以用这样的方式来表示一个十进制数: 将每个阿拉伯数字乘以一个以该数字所处位置的(值减1)为指数,以10

为底数的幂之和的形式。例如:123可表示为$$1 \times 10^{2}+2 \times 10^{1}+3 \times 10^{0}$$这样的形式。

与之相似的,对二进制数来说,也可表示成每个二进制数码乘以一个以该数字所处位置的(值−1)为指数,以2为底数的幂之和的形式。一般说来,任何一个正整数R或一个负整数−R都可以被选来作为一个数制系统的基数。如果是以R或

−R为基数,则需要用到的数码为0,1,....R−1。例如,当R=7时,所需用到的数码是0,1,2,3,4,5和6,这与其是R或−R无关。如果作为基数的数绝对值超过10,则为了表示这些数码,通常使用英文字母来表示那些大于9的数码。例如对16进制数来说,用A表示10,用B表示11,用C表示12,用D表示13,用E表示14,用F表示15。

在负进制数中是用−R作为基数,例如−15(十进制)相当于110001(−2进制),并且它可以被表示为2的幂级数的和数:
$$
110001=1 \times(-2)^{5}+1 \times(-2)^{4}+0 \times(-2)^{3}+0 \times(-2)^{2}+0 \times(-2)^{1}+1 \times(-2)^{0}
$$
设计一个程序,读入一个十进制数和一个负进制数的基数, 并将此十进制数转换为此负进制下的数:

−R∈−2,−3,−4,...,−20

输入格式：

输入的每行有两个输入数据。

第一个是十进制数N(−32768≤N≤32767)

第二个是负进制数的基数−R。

输出格式：

结果显示在屏幕上，相对于输入，应输出此负进制数及其基数，若此基数超过10，则参照16进制的方式处理。

示例:

```
30000 -2
30000=11011010101110000(base-2)
```

### 思路

* 负整数取模后是正整数取模的相反数，例如-15对-2取模得到-1，因此我们要用它减去模数，即为1.
* 负数的短除法

### Solution

```java
#include<iostream>
#include<cstdio>
#include<cmath>
#include<cstring>
using namespace std;

void zhuan(int n,int r)
{
    if(n==0) return ;
    int m=n%r;//m为余数 

    if(m<0) m-=r,n+=r;//如果余数小于0，转化为正数

    //将余数转化为ascll码方便输出，省略了一个数组 
    if(m>=10) m='A'+m-10;
    else m+='0';

    zhuan(n/r,r);

    printf("%c",m);//注意，因为结果为余数倒序，输出要写在递归后面，不然会顺序输出 
    return ;
}
int main()
{
    //freopen("in.txt","r",stdin);
    int n,r;
    string ans="";
    cin>>n>>r;
    cout<<n<<"=";
    zhuan(n,r);
    printf("(base%d)",r);
    return 0;
}
```


