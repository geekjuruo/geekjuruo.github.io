---
layout:     post                    # 使用的布局（不需要改）
title:      Verilog学习笔记（一）           # 标题 
subtitle:   LYH学习硬件描述语言 				# 副标题
date:       2018-09-24              # 时间
author:     LYH                      # 作者
header-img: img/post-bg-keybord.jpg  #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Verilog
    - 硬件
---

## Verilog简介
### 模块结构
1. module aoi 模块定义
2. input a,b,c,d 输入定义
3. output f 输出定义
4. wire a,b,c,d,e,f 类型定义
5. assign f = ~((a&b)|(~(c&d)))
6. endmodule

>逻辑功能定义——模块中最核心的部分  
定义逻辑功能的几种基本方法：  
[1] 用assign持续赋值语句定义:assign语句 多用于组合逻辑的赋值，称为持续赋值方式。  
[2] 用always过程块定义:always过程语句既可以用来描述组合电路，也可以描述时序电路。  
[3] 调用元件(元件例化):调用元件的方法类似于在电路图输入方式下调入图形符号来完成设计，这种方法侧重于电路的结构描述。

### Verilog基本组合电路设计
三人表决电路的Verilog描述  
4位二进制加法器的Verilog描述  
BCD加法器
### Verilog基本时序电路设计
基本D触发器的Verilog描述  
带同步清0的D触发器  
带异步清0的D触发器  
4位二进制加法计数器  
十进制加法计数器  

## Verilog语法与要素
### Verilog语言要素
> 空白符，注释，操作数，数字，字符串，标识符，关键字

**标识符**  
Verilog中的标识符可以是任意一组字母、数字以及符号$和_(下划线)的组合，但标识符的第一个字符必须是字母或者下划线。另外，标识符是区分大小写的。  
**常量**  
包括三种：整数，实数，字符串  
**数据类型**  
Verilog中的变量分为如下两种数据类型:   
• net型：wire, tri等，net型数据相当于硬件电路中的各种物理连线，其特点是输出的值紧跟输入值的变化而变化。对连线型有两种驱动方式，一种方式在结构描述中将其连到一个门原件或模块的输出端;另一种方 式是用持续赋值语句assign对其进行赋值。  
• variable型：reg, integer等，variable型变量必须放在过程语句(如initial, always) 中，通过过程赋值语句赋值;在always,inital等过程 块内被赋值的信号也必须定义成variable型。  
**参数**  
在Verilog中，使用参数parameter来定义符号常量，即parameter来定义一个标识符代表一个常量。参数常用来定义时延和变量的宽度。  
**向量**  
宽度为1位的变量为标量，默认为标量。n线宽大于1位的变量为向量。  
**位选择和域选择**  
在表达式中可任意选中向量中的一位或相邻几位 ，分别称为位选择和域选择。  
**运算符**  
分为算术运算符，逻辑运算符，位运算符，关系运算符，等式运算符，缩位运算符，移位运算符，条件运算符，位拼接运算符。其中各运算符要注意其优先级。

### Verilog行为语句
1. 过程语句（initial，always）注意敏感信号表达式
2. 块语句（begin-end，fork-join）
3. 赋值语句（assign，=，<=）
4. 条件语句
5. 循环语句
6. 编译指导语句
7. 任务和函数
8. 顺序执行和并发执行  

## Verilog设计层次与风格
### Verilog设计的描述风格
* 结构描述（structural）门元件的调用
* 行为描述（behavioural）数学模型描述
* 数据流描述（dataflow）持续赋值语句  

## Verilog有限状态机设计
> 有限状态机的几种描述方式:  
> [1] 用三个过程描述:即现态(CS)，次态(NS)， 输出逻辑(OL)各用一个always过程描述。  
> [2] 双过程描述(CS+NS，OL双过程描述):使用两个always过程来描述有限状态机，一个过程描述现态和次态时序逻辑(CS+NS);另外一个过程描述输出逻辑(OL)。  
> [3] 双过程描述(CS，NS+Ol双过程描述):一个过程用来描述现态(CS);另一个过程描述次态和输出逻辑(NS+OL)。  
> [4] 但过程描述:在单过程描述方式中，将状态机的现态、次态和输出逻辑(CS+NS+OL)放在一个always过程中进行描述。

**有限状态机设计要点**  

* 起始状态的选择
* 有限状态机的同步复位
* 有限状态机的异步复位
* 多余状态的处理方法

